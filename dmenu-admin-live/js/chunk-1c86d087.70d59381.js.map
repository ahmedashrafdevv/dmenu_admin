{"version":3,"sources":["webpack:///./src/utils/crud/editAdd.ts","webpack:///./src/repositories/global.ts","webpack:///./src/components/form/File.vue","webpack:///./src/components/form/File.vue?e3ae","webpack:///./src/components/form/File.vue?f23d","webpack:///./src/components/form/File.vue?8f0d","webpack:///./src/components/crud/editAdd.vue","webpack:///./src/components/crud/editAdd.vue?8096","webpack:///./src/components/crud/editAdd.vue?cc25","webpack:///./src/components/crud/editAdd.vue?c65c","webpack:///./src/views/categories/editAdd.vue","webpack:///./src/forms/categories/inputs.ts","webpack:///./src/forms/categories/index.ts","webpack:///./src/cruds/categories/index.ts","webpack:///src/views/categories/editAdd.vue","webpack:///./src/views/categories/editAdd.vue?612d","webpack:///./src/views/categories/editAdd.vue?d479","webpack:///./src/components/form/Combo.vue","webpack:///./src/components/form/Combo.vue?7cf6","webpack:///./src/components/form/Combo.vue?7ccc","webpack:///./src/components/form/Combo.vue?07fc"],"names":["Http","Api","getInstance","EditAdd","constructor","details","loading","error","isEdit","this","title","table","form","id","find","callBack","editForm","Promise","resolve","reject","url","get","then","res","state","_reset","bus","$emit","catch","e","submit","method","resetEdit","undefined","Upload","payload","post","headers","d","Delete","delete","DeleteFile","path","Path","_vm","_setup","input","$t","label","model","callback","file","expression","Vue","extend","name","data","removeImage","props","Object","initial","String","created","process","methods","remove","removeBasePathFromImage","key","value","upload","formData","FormData","append","component","staticRenderFns","staticClass","_c","activeForm","scopedSlots","_u","fn","$event","preventDefault","render","required","type","watch","handler","deep","immediate","isFormValid","validate","$router","back","components","AppForm","router","currentRoute","params","setId","parseInt","$on","async","_self","attrs","imgInput","generateInputHtml","FileInputComponent","cols","nameInput","TextInputComponent","rules","nameEnInput","paretnGroupInput","cache","text","initialFetch","ComboInputComponent","clearable","valueKey","editInputs","Input","convertToDisabled","editParams","inputs","addForm","Form","push","editAddInterface","categoryForm","editAddCategory","computed","items","disabled","icon","console","log","change","val","getData","serializeQuery","setModel","m","filter","item"],"mappings":"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","file":"js/chunk-1c86d087.70d59381.js","sourcesContent":["import {EditAddInterface} from '@/types'\nimport Form from '../form/form'\nimport Api from '../axios/Api';\nimport bus from '@/bus'\n// import {openSnack} from '@/utils/snack/snack'\n\nconst Http = Api.getInstance();\nexport default class EditAdd {\n    title: string\n    table: string\n    form: Form\n    editForm: Form\n    id?: number\n    loading: boolean = false\n    error: boolean = false\n    isEdit: boolean = false\n    callBack?: (form: any) => any\n    public constructor(details: EditAddInterface) {\n        this.title = details.title\n        this.table = details.table\n        this.form = details.form\n        this.id = details.id\n        if (this.isEdit) this.find()\n        if (details.callBack) this.callBack = details.callBack\n        this.editForm = (typeof details.editForm != 'undefined') ? details.editForm : details.form\n\n    }\n    // find the record from the api\n    public find() {\n        return new Promise((resolve, reject) => {\n            this.editForm.loading = true\n            this.loading = true\n            let url = `${this.table}/${this.id}`\n            // use the axios base class to send the request to the server with generated url\n            Http.get<any>(url)\n                .then((res) => {\n                    this.editForm.state = res\n                    this.editForm.loading = false\n                    this._reset()\n                    bus.$emit('changeStateAppForm' , res)\n                    resolve(res)\n                }).catch(e => {\n                    this.loading = false\n                    this.error = true\n                    reject(e)\n                })\n        })\n    }\n    public async setId(id: number) {\n        if(this.id == id) {\n            return\n        }\n        this.id = id\n        this.isEdit = true\n        await this.find()\n    }\n\n    public submit(): Promise<any> {\n        let url = `${this.table}/editadd`\n        type Method = 'post' | 'put';\n        let method: Method = 'post'\n        if (this.isEdit) {\n            url += `/${this.id}`\n            method = 'put'\n        }\n        const state = this.isEdit ? this.editForm.state : this.form.state\n        return new Promise((resolve, reject) => {\n            Http[method](url, state).then(res => {\n                bus.$emit('resetAppForm')\n                const msg = this.isEdit ? \"item_updated_succesfully\" : \"item_added_succesfully\"\n                // openSnack(\"success\" , i18n.t(msg).toString())\n                this._reset()\n                this.resetEdit()\n                return resolve(res)\n            }).catch(e => {\n                return reject(e)\n            })\n        })\n    }\n    private _reset() {\n        this.loading = false\n        this.error = false\n    }\n    private resetEdit(){\n        this.isEdit = false\n        this.id = undefined\n    }\n}","import Api from '@/utils/axios/Api';\n\nconst Http = Api.getInstance();\n\n\nexport const Upload = (payload:Object) => {\n    return new Promise((resolve, reject) => {\n        Http.post('upload' , payload , {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n          })\n        .then((d:any) => {\n            resolve(d)\n        }).catch((e:any) => {\n            reject(e)\n        })\n    })\n}\n\n\n\n\nexport const Delete = (payload:any) => {\n    return new Promise((resolve, reject) => {\n        Http.delete(`delete/${payload.table}/${payload.id}`)\n        .then((d:any) => {\n            resolve(d)\n        }).catch((e:any) => {\n            reject(e)\n        })\n    })\n}\n\n\n\nexport const DeleteFile = (path:string) => {\n    return new Promise((resolve, reject) => {\n        Http.post('delete/file' , {Path : path})\n        .then((d:any) => {\n            resolve(d)\n        }).catch((e:any) => {\n            reject(e)\n        })\n    })\n}\n\n\nexport const Counts = () => {\n    return new Promise((resolve, reject) => {\n        Http.get('counts').then((d:any) => {\n            resolve(d)\n        }).catch((e:any) => {\n            reject(e)\n        })\n    })\n}","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-file-input',{attrs:{\"truncate-length\":\"15\",\"rules\":_vm.input.rules ? _vm.input.rules : [],\"append-icon\":_vm.input.required ? 'mdi-asterisk' : '',\"label\":_vm.$t(_vm.input.label),\"outlined\":\"\"},on:{\"change\":_vm.upload},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport Api from \"@/utils/axios/Api\";\nimport { Upload , DeleteFile} from \"@/repositories/global\";\nimport { removeBasePathFromImage } from \"@/utils/helpers/heleprs\";\nconst Http = Api.getInstance();\nexport default Vue.extend({\n  name : 'file-input',\n  data() {\n    return {\n      loading: true,\n      removeImage:false,\n      path : '',\n      file: null as Blob | null,\n    };\n  },\n  props: {\n    input: Object,\n    initial : String\n  },\n  created(){\n    this.path = process.env.VUE_APP_IMG_URL + this.initial\n  },\n  methods:{\n     remove(){\n      // this variable simply remove the base url from the imageto send the actual path\n      const path = removeBasePathFromImage(this.path)\n      DeleteFile(path).then(() => {\n        this.file = null\n        this.$emit(\"change\", {key: this.input.key , value:null});\n        this.removeImage =  !this.removeImage\n      });\n    },\n    upload(){\n      if(this.file == null){\n        return\n      }\n       let formData = new FormData();\n        formData.append(\"file\", this.file as Blob);\n        Upload(formData).then((d) => {\n          this.path = d as string\n          this.removeImage = false\n          const value = removeBasePathFromImage(d as string)\n          this.$emit('input'  ,value)\n\n        });\n    }\n  },\n  \n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./File.vue?vue&type=template&id=e96b45c0&\"\nimport script from \"./File.vue?vue&type=script&lang=ts&\"\nexport * from \"./File.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"py-12\"},[_c('v-container',[_c('app-form',{attrs:{\"form\":_vm.activeForm},scopedSlots:_vm._u([{key:\"form-submit\",fn:function(){return [_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"app-btn\",on:{\"click\":function($event){$event.preventDefault();return _vm.submit()}}},[_vm._v(_vm._s(_vm.$t('submit')))])],1)]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport AppForm from '@/components/form/Form.vue'\nimport EditAdd from '@/utils/crud/editAdd'\nimport bus from \"@/bus\";\nimport router from '@/router'\n// import {snackBar} from '@/utils/Helpers'\nexport default {\n  data(){\n   let activeForm = this.d.form\n   return{\n     activeForm\n   }\n },\n  \n props:{\n     d:{\n         required: true,\n         type:EditAdd\n     }\n },\n watch:{\n  '$route.params.id': {\n        handler: function(id) {\n          if (id) {\n            this.activeForm = this.d.editForm\n          } else {\n            this.activeForm = this.d.form\n          }\n        },\n        deep: true,\n        immediate: true\n      }\n },\n \n methods:{\n    async submit(){\n      const isFormValid = await this.activeForm.validate()\n      if(!isFormValid){\n        return\n      }\n\n       this.d.submit().then((res : any) => {\n         if(this.d.callBack != null){\n           this.d.callBack(this.activeForm.state)\n         } else {\n           this.$router.back()\n         }\n       }).catch((e : any) => {\n         this.activeForm.error = e\n       })\n    }\n  },\n components:{\n     \"app-form\":AppForm\n },\n async created(){\n   if (router.currentRoute.params.id) {\n     await this.d.setId(parseInt(router.currentRoute.params.id))\n   }\n   bus.$on(\"editAddFind\", async (id : number) => {\n      await this.d.setId(id)\n    })\n }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editAdd.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editAdd.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./editAdd.vue?vue&type=template&id=a45ea996&\"\nimport script from \"./editAdd.vue?vue&type=script&lang=ts&\"\nexport * from \"./editAdd.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('edit-add',{attrs:{\"d\":_vm.d}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\nimport TextInputComponent from \"@/components/form/Text.vue\";\nimport FileInputComponent from \"@/components/form/File.vue\";\nimport ComboInputComponent from \"@/components/form/Combo.vue\";\nimport {\n  DefaultInputInterface,\n  SelectInputInterface,\n} from \"@/types\";\nimport { required } from \"@/utils/validations/validations\";\n\nexport const imgInput: DefaultInputInterface = {\n  name: \"imagePath\",\n  generateInputHtml: () => Vue.extend(FileInputComponent),\n  label: \"Img\",\n  cols: 6,\n  type: \"file\",\n  value: \"\",\n};\n\nexport const nameInput: DefaultInputInterface = {\n  name: \"groupName\",\n  generateInputHtml: () => Vue.extend(TextInputComponent),\n  rules: [(value: string) => required(value)],\n\n  label: \"name\",\n  cols: 6,\n  type: \"text\",\n  required: true,\n  value: \"\",\n};\n\nexport const nameEnInput: DefaultInputInterface = {\n  name: \"groupNameEn\",\n  generateInputHtml: () => Vue.extend(TextInputComponent),\n  rules: [(value: string) => required(value)],\n  label: \"name_en\",\n  cols: 6,\n  required: true,\n  type: \"text\",\n  value: \"\",\n};\n\nexport const paretnGroupInput: SelectInputInterface = {\n  name: \"parentCode\",\n  cache: false,\n  text: \"name\",\n  cols: 6,\n  initialFetch: true,\n  generateInputHtml: () => Vue.extend(ComboInputComponent),\n  clearable: true,\n  valueKey: \"code\",\n  type: \"combo\",\n  url: \"groups/list\",\n  label: \"parent\",\n};\n\nexport const paretnGroupInputDisabled: SelectInputInterface = {\n  name: \"parentCode\",\n  cache: false,\n  text: \"name\",\n  cols: 6,\n  initialFetch: true,\n  disabled:true,\n  generateInputHtml: () => Vue.extend(ComboInputComponent),\n  clearable: true,\n  valueKey: \"code\",\n  type: \"combo\",\n  url: \"groups/list\",\n  label: \"parent\",\n};\n","import { convertToDisabled } from '../../utils/form/inputs/InputStore';\nimport Input from '@/utils/form/inputs/Input';\nimport Form from '@/utils/form/form';\nimport {FormInterface } from '@/utils/form/interface';\nimport {\n    imgInput,\n    nameInput,\n    nameEnInput,\n    paretnGroupInput,\n} from './inputs'\n\n\nconst editInputs:Input[] = [\n    new Input(nameInput),\n    new Input(nameEnInput),\n    new Input(convertToDisabled(paretnGroupInput)),\n    new Input(imgInput),\n]\n\nconst editParams :FormInterface = {\n    title:\"edit_categories\",\n    inputs : editInputs\n}\n\n\nconst inputs:Input[] = [\n    new Input(nameInput),\n    new Input(nameEnInput),\n    new Input(paretnGroupInput),\n    new Input(imgInput),\n]\nconst params :FormInterface = {\n    title:\"insert_categories\",\n    inputs\n}\nconst addForm = new Form(params)\n\n\nconst editForm = new Form(editParams)\n\nexport default {addForm , editForm}\n","import router  from '@/router';\nimport bus from '@/bus';\nimport categoryForm from '@/forms/categories';\nimport EditAdd from '@/utils/crud/editAdd';\nimport { EditAddInterface } from '@/types';\n\nconst callBack = (form:any) => {\n    bus.$emit(\"getGroupsTree\")\n    if(router.currentRoute.name == 'categories-edit'){\n        router.push({name : 'categories-create'})\n    }\n}\nconst editAddInterface :EditAddInterface = {\n    title : \"groups\",\n    table : \"groups\",\n    form :  categoryForm.addForm,\n    editForm: categoryForm.editForm,\n    callBack\n}\nconst editAddCategory = new EditAdd(editAddInterface)\nexport default editAddCategory","<template>\n  <edit-add :d=\"d\" />\n</template>\n<script>\nimport details from \"@/cruds/categories\";\nimport EditAddComponent from \"@/components/crud/editAdd.vue\";\nexport default {\n  components: {\n    \"edit-add\": EditAddComponent,\n  },\n  computed: {\n    d() {\n      return details;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editAdd.vue?vue&type=template&id=305328ae&\"\nimport script from \"./editAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./editAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-combobox',{attrs:{\"cache-items\":_vm.input.cache,\"item-text\":_vm.input.text,\"item-value\":_vm.input.valueKey,\"items\":_vm.input.items,\"disabled\":_vm.input.disabled,\"readonly\":_vm.input.disabled,\"rules\":_vm.input.rules ? _vm.input.rules : [],\"loading\":_vm.loading,\"prepend-icon\":_vm.input.icon,\"append-icon\":_vm.input.required ? 'mdi-asterisk' : '',\"return-object\":\"\",\"hide-details\":\"\",\"outlined\":\"\",\"clearable\":!_vm.input.required,\"label\":_vm.$t(_vm.input.label),\"single-line\":\"\"},on:{\"change\":_vm.change,\"click:clear\":_vm.change},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport Api from '@/utils/axios/Api';\nimport { serializeQuery } from \"@/utils/helpers/heleprs\";\nimport bus from \"@/bus\";\nconst Http = Api.getInstance();\nexport default Vue.extend({\n  data(){\n    return{\n      loading:false,\n      model:null as Object | null\n    }\n  },\n  props: {\n    input: Object,\n\n  },\n  watch:{\n    \"input\": (value) =>{\n      console.log(\"value\")\n      console.log(value)\n    }\n  },\n  methods:{\n      change(val:any){\n        console.log(\"val\")\n        console.log(val)\n        if (typeof this.input.change !='undefined') this.input.change(val)\n        const value = typeof val == 'undefined' || val == null ? null :val[this.input.valueKey]\n        this.$emit('input' , value)\n      },\n       getData(){\n        this.loading = true\n        Http.get(`${this.input.url}?${serializeQuery(this.input.payload)}`)\n        .then((d) => {\n          this.loading = false\n          this.input.items = d\n          this.setModel(this.input.value)\n        })\n      },\n      setModel(value : any){\n        let m = this.input.items.filter((item:any)=>{\n            return item[`${this.input.valueKey}`] == value\n          })[0]\n         this.model = m\n      }\n  },\n  created(){\n    if (this.input.initialFetch) this.getData()\n    // bus.$on(\"changeStateAppForm\", (state:any) => {\n    //     this.setModel(state[this.input.name])\n    // });\n    // bus.$on(\"changeFormStateKey\", (payload:any) => {\n    //   if (payload.key == this.input.name) {\n    //     this.setModel(payload.value)\n    //   }\n    // });\n\n    bus.$on(\"changeComboValue\", (payload:any) => {\n      if (payload.key == this.input.name) {\n        this.setModel(payload.value)\n      }\n    });\n    \n    bus.$on(\"getGroupsTree\", (state:any) => {\n        this.getData()\n    });\n    \n  }\n  \n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Combo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Combo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Combo.vue?vue&type=template&id=4b839b2e&\"\nimport script from \"./Combo.vue?vue&type=script&lang=ts&\"\nexport * from \"./Combo.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}