(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1733184"],{"0d11":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var a=i("032a"),n=i("ddd3");const s=a["a"].getInstance();class l{constructor(t){this.loading=!1,this.error=!1,this.isEdit=!1,this.title=t.title,this.table=t.table,this.form=t.form,this.id=t.id,this.isEdit&&this.find(),t.callBack&&(this.callBack=t.callBack),this.editForm="undefined"!=typeof t.editForm?t.editForm:t.form}find(){return new Promise((t,e)=>{this.editForm.loading=!0,this.loading=!0;let i=`${this.table}/${this.id}`;s.get(i).then(e=>{this.editForm.state=e,this.editForm.loading=!1,this._reset(),n["a"].$emit("changeStateAppForm",e),t(e)}).catch(t=>{this.loading=!1,this.error=!0,e(t)})})}async setId(t){this.id!=t&&(this.id=t,this.isEdit=!0,await this.find())}submit(){let t=this.table+"/editadd",e="post";this.isEdit&&(t+="/"+this.id,e="put");const i=this.isEdit?this.editForm.state:this.form.state;return new Promise((a,l)=>{s[e](t,i).then(t=>{n["a"].$emit("resetAppForm");this.isEdit;return this._reset(),this.resetEdit(),a(t)}).catch(t=>l(t))})}_reset(){this.loading=!1,this.error=!1}resetEdit(){this.isEdit=!1,this.id=void 0}}},"69ff":function(t,e,i){"use strict";i.r(e);var a=i("a523"),n=function(){var t=this,e=t._self._c;return e(a["a"],[e("edit-add",{attrs:{d:t.d}})],1)},s=[],l=i("0d11"),r=i("370f"),o=i("7173"),d=i("2b0e"),u=i("b955"),c=i("fbf5"),h=i("26d8");const p={name:"name",generateInputHtml:()=>d["a"].extend(u["a"]),rules:[t=>Object(h["b"])(t)],label:"name",cols:6,type:"text",value:""},m={name:"nameEn",generateInputHtml:()=>d["a"].extend(u["a"]),label:"nameEn",rules:[t=>Object(h["b"])(t)],cols:6,type:"text",value:""},b={name:"groupCode",cache:!1,text:"name",cols:6,initialFetch:!0,generateInputHtml:()=>d["a"].extend(c["a"]),clearable:!0,valueKey:"id",type:"combo",url:"groups/list",label:"groupCode"},f={name:"barCode",generateInputHtml:()=>d["a"].extend(u["a"]),label:"barcode",cols:6,type:"text",value:""},g={name:"price",generateInputHtml:()=>d["a"].extend(u["a"]),label:"price",rules:[t=>Object(h["b"])(t)],cols:6,type:"text",value:""},v={name:"estimatedTime",generateInputHtml:()=>d["a"].extend(u["a"]),label:"estimatedtime",rules:[t=>Object(h["b"])(t),t=>Object(h["a"])(t)],cols:6,type:"number",value:""},y=[new r["a"](p),new r["a"](m),new r["a"](b),new r["a"](f),new r["a"](g),new r["a"](v)],w={inputs:y},x=new o["a"](w);var F=x;const k=t=>{console.log("from hereeeee")},$={title:"groups",table:"groups",form:F,callBack:k},_=new l["a"]($);var I=_,j=i("8816"),E={components:{"edit-add":j["a"]},computed:{d(){const t=new l["a"](I);return t}}},O=E,B=i("2877"),C=Object(B["a"])(O,n,s,!1,null,null,null);e["default"]=C.exports},8816:function(t,e,i){"use strict";var a=i("8336"),n=i("62ad"),s=i("a523"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"py-12"},[e(s["a"],[e("app-form",{attrs:{form:t.activeForm},scopedSlots:t._u([{key:"form-submit",fn:function(){return[e(n["a"],{attrs:{cols:"12"}},[e(a["a"],{staticClass:"app-btn",on:{click:function(e){return e.preventDefault(),t.submit()}}},[t._v(t._s(t.$t("submit")))])],1)]},proxy:!0}])})],1)],1)},r=[],o=i("40b0"),d=i("0d11"),u=i("ddd3"),c=i("afbc"),h={data(){let t=this.d.form;return{activeForm:t}},props:{d:{required:!0,type:d["a"]}},watch:{"$route.params.id":{handler:function(t){this.activeForm=t?this.d.editForm:this.d.form},deep:!0,immediate:!0}},methods:{async submit(){const t=await this.activeForm.validate();t&&this.d.submit().then(t=>{null!=this.d.callBack?this.d.callBack(this.activeForm.state):this.$router.back()}).catch(t=>{this.activeForm.error=t})}},components:{"app-form":o["a"]},async created(){c["a"].currentRoute.params.id&&await this.d.setId(parseInt(c["a"].currentRoute.params.id)),u["a"].$on("editAddFind",async t=>{await this.d.setId(t)})}},p=h,m=i("2877"),b=Object(m["a"])(p,l,r,!1,null,null,null);e["a"]=b.exports},fbf5:function(t,e,i){"use strict";var a=i("2b5d"),n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(a["a"],{attrs:{"cache-items":t.input.cache,"item-text":t.input.text,"item-value":t.input.valueKey,items:t.input.items,disabled:t.input.disabled,readonly:t.input.disabled,rules:t.input.rules?t.input.rules:[],loading:t.loading,"prepend-icon":t.input.icon,"append-icon":t.input.required?"mdi-asterisk":"","return-object":"","hide-details":"",outlined:"",clearable:!t.input.required,label:t.$t(t.input.label),"single-line":""},on:{change:t.change,"click:clear":t.change},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)},s=[],l=i("2b0e"),r=i("032a"),o=i("b0fd"),d=i("ddd3");const u=r["a"].getInstance();var c=l["a"].extend({data(){return{loading:!1,model:null}},props:{input:Object},watch:{input:t=>{console.log("value"),console.log(t)}},methods:{change(t){console.log("val"),console.log(t),"undefined"!=typeof this.input.change&&this.input.change(t);const e="undefined"==typeof t||null==t?null:t[this.input.valueKey];this.$emit("input",e)},getData(){this.loading=!0,u.get(`${this.input.url}?${Object(o["f"])(this.input.payload)}`).then(t=>{this.loading=!1,this.input.items=t,this.setModel(this.input.value)})},setModel(t){let e=this.input.items.filter(e=>e[""+this.input.valueKey]==t)[0];this.model=e}},created(){this.input.initialFetch&&this.getData(),d["a"].$on("changeComboValue",t=>{t.key==this.input.name&&this.setModel(t.value)}),d["a"].$on("getGroupsTree",t=>{this.getData()})}}),h=c,p=i("2877"),m=Object(p["a"])(h,n,s,!1,null,null,null);e["a"]=m.exports}}]);
//# sourceMappingURL=chunk-c1733184.7ee1723d.js.map